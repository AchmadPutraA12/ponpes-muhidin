import{r as m,W as g,j as a,y as j}from"./app-DZkf647O.js";import{I as d}from"./InputError-CQp5qYyc.js";import{S as _}from"./Spinner-CdPeayFU.js";import{B as u}from"./button-eVarx2oj.js";import{D as v,a as b,b as N,c as q,d as w}from"./dialog-DJF1KRlX.js";import{I as x}from"./input-BvLGwOgT.js";import{L as c}from"./label-DrDDnpoN.js";import{S}from"./square-pen-DLCvg6-2.js";import"./utils-8RyR4BqC.js";import"./index-8RxCLllT.js";import"./index-CQbAAHMh.js";import"./Combination-BFQUT4FN.js";import"./tslib.es6-DjSP9Sqm.js";import"./x-DTn9t4Ei.js";import"./createLucideIcon-C4ABKeCs.js";const K=({schoolYear:e})=>{const[p,l]=m.useState(!1),{data:t,setData:s,errors:i,processing:o,reset:f,clearErrors:n}=g({first_year:e.first_year,last_year:e.last_year,quota:e.quota||""});m.useEffect(()=>{s({first_year:e.first_year,last_year:e.last_year,quota:e.quota})},[e]);const y=r=>{r.preventDefault(),j.post(route("admin.school-year.update",e.id),{...t,_method:"put"},{preserveScroll:!0,onSuccess:()=>{l(!1)},onError:()=>alert("Failed to update data")})};m.useEffect(()=>{t.first_year&&s("last_year",(parseInt(t.first_year)+1).toString())},[t.first_year]);function h(){f("first_year","last_year","quota")}return a.jsx(a.Fragment,{children:a.jsxs(v,{open:p,onOpenChange:l,children:[a.jsx(b,{asChild:!0,children:a.jsx(u,{variant:"outline",onClick:()=>l(!0),size:"sm",className:"hover:bg-red-100 border-orange-500",children:a.jsx(S,{className:"h-4 w-4 text-orange-500"})})}),a.jsxs(N,{className:" z-[120] sm:max-w-[1000px] h-auto rounded-lg overflow-auto bg-background",children:[a.jsx(q,{children:a.jsx(w,{className:"py-3 text-xl",children:"Update data Detail Pembayaran"})}),a.jsx("div",{className:"mt-2",children:a.jsxs("form",{className:"bg-white border relative mt-4 space-y-4 rounded-xl p-4",onSubmit:y,children:[o&&a.jsx(_,{className:"absolute -translate-x-1/2 top-1/2 left-1/2 -translate-y-1/2"}),a.jsx("div",{className:"flex flex-col gap-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(c,{variant:"wajib",htmlFor:"first_year",children:"Tahun Awal"}),a.jsx(x,{type:"text",maxLength:4,placeholder:"2021",id:"first_year",name:"first_year",value:t.first_year,onChange:r=>{s("first_year",r.target.value),n("first_year")}}),a.jsx(d,{message:i.first_year})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(c,{variant:"wajib",htmlFor:"last_year",children:"Tahun Akhir"}),a.jsx(x,{disabled:!0,maxLength:4,type:"text",placeholder:"2021",id:"last_year",name:"last_year",value:t.last_year,onChange:r=>{s("last_year",r.target.value),n("last_year")}}),a.jsx(d,{message:i.last_year})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(c,{variant:"wajib",htmlFor:"quota",children:"Kuota Calon Siswa"}),a.jsx(x,{maxLength:4,type:"number",placeholder:"100",id:"quota",name:"quota",value:t.quota,onChange:r=>{s("quota",r.target.value),n("quota")}}),a.jsx(d,{message:i.quota})]})]})}),a.jsxs("div",{className:"flex justify-end w-full gap-3",children:[a.jsx(u,{type:"reset",disabled:o,size:"lg",variant:"outline",className:"mt-5",onClick:h,children:"Reset"}),a.jsx(u,{type:"submit",disabled:o,size:"lg",className:"text-white mt-5",children:"Simpan"})]})]})})]})]})})};export{K as default};
