import{r as m,W as y,j as e,y as E}from"./app-DZkf647O.js";import{I as j}from"./InputError-CQp5qYyc.js";import{S as k}from"./Spinner-CdPeayFU.js";import{B as u}from"./button-eVarx2oj.js";import{D as z,a as F,b as I,c as R,d as B}from"./dialog-DJF1KRlX.js";import{I as b}from"./input-BvLGwOgT.js";import{L as v}from"./label-DrDDnpoN.js";import{S as H}from"./square-pen-DLCvg6-2.js";import"./utils-8RyR4BqC.js";import"./index-8RxCLllT.js";import"./index-CQbAAHMh.js";import"./Combination-BFQUT4FN.js";import"./tslib.es6-DjSP9Sqm.js";import"./x-DTn9t4Ei.js";import"./createLucideIcon-C4ABKeCs.js";const Z=({detailPayment:r})=>{const[S,o]=m.useState(!1),{data:x,setData:n,errors:g,processing:l,reset:N,clearErrors:h}=y({description:r.description,price:r.price}),[D,c]=m.useState(a(r.price.toString()));m.useEffect(()=>{n({description:r.description,price:r.price}),c(a(r.price.toString()))},[r]);const w=s=>{s.preventDefault(),E.post(route("admin.detail-payment.update",r.id),{...x,_method:"put"},{preserveScroll:!0,onSuccess:()=>{o(!1)},onError:()=>alert("Failed to update data")})};function a(s){const i=s.replace(/[^,\d]/g,"").toString().split(","),d=i[0].length%3;let t=i[0].substr(0,d);const f=i[0].substr(d).match(/\d{3}/gi);return f&&(t+=(d?".":"")+f.join(".")),t=i[1]!==void 0?t+","+i[1]:t,t}function C(s){const p=s.target.value.replace(/\./g,"");n("price",p),c(a(p)),h("price")}return e.jsx(e.Fragment,{children:e.jsxs(z,{open:S,onOpenChange:o,children:[e.jsx(F,{asChild:!0,children:e.jsx(u,{variant:"outline",onClick:()=>o(!0),size:"sm",className:"hover:bg-red-100 border-orange-500",children:e.jsx(H,{className:"h-4 w-4 text-orange-500"})})}),e.jsxs(I,{className:" z-[120] sm:max-w-[1000px] h-auto rounded-lg overflow-auto bg-background",children:[e.jsx(R,{children:e.jsx(B,{className:"py-3 text-xl",children:"Update data Detail Pembayaran"})}),e.jsx("div",{className:"mt-2",children:e.jsxs("form",{className:"bg-white border relative mt-4 space-y-4 rounded-xl p-4",onSubmit:w,children:[l&&e.jsx(k,{className:"absolute -translate-x-1/2 top-1/2 left-1/2 -translate-y-1/2"}),e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(v,{variant:"wajib",htmlFor:"description",children:"Deskripsi"}),e.jsx(b,{type:"text",placeholder:"Deskripsi pembayaran ini ...",id:"description",name:"description",value:x.description,onChange:s=>{n("description",s.target.value),h("description")}}),e.jsx(j,{message:g.description})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(v,{variant:"wajib",htmlFor:"price",children:"Harga"}),e.jsx(b,{type:"text",placeholder:"Rp 100.000",id:"price",name:"price",value:D,onChange:C}),e.jsx(j,{message:g.price})]})]})}),e.jsxs("div",{className:"flex justify-end w-full gap-3",children:[e.jsx(u,{type:"reset",disabled:l,size:"lg",variant:"outline",onClick:()=>{N("description","price"),c(a(r.price.toString()))},className:"mt-5",children:"Reset"}),e.jsx(u,{type:"submit",disabled:l,size:"lg",className:"text-white mt-5",children:"Simpan"})]})]})})]})]})})};export{Z as default};
