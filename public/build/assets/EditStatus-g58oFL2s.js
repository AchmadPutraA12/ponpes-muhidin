import{r as m,W as h,j as a,y as f}from"./app-BH8NPoQZ.js";import{I as j}from"./InputError-Ekkw5NXS.js";import{S as g}from"./Spinner-Dk1S-GF5.js";import{B as n}from"./button-CKIxU5iC.js";import{D as v,a as b,b as N,c as S,d as y}from"./dialog-CsreFxk3.js";import{I as C}from"./input-DiOuQv5j.js";import{L as D}from"./label-_jvs7dGd.js";import{S as w}from"./SelectOptionCustom-BPzV8t2O.js";import"./utils-8RyR4BqC.js";import"./index-8dRenCLO.js";import"./index-8HSEolIG.js";import"./Combination-CG_MCUhR.js";import"./tslib.es6-DjSP9Sqm.js";import"./x-D_LkI2lB.js";import"./createLucideIcon-DMB5ZCIW.js";const q=({studentRegister:e})=>{const[p,r]=m.useState(!1),{data:s,setData:o,errors:i,processing:l,reset:E,clearErrors:u}=h({status:e.status,note:e.note});m.useEffect(()=>{o({status:e.status,note:e.note})},[e]);const c=t=>{t.preventDefault(),f.post(route("admin.student.update",e.id),{...s,_method:"put"},{preserveScroll:!0,onSuccess:()=>{r(!1)},onError:()=>alert("Failed to update data")})},d=["proses","verifikasi","gagal verifikasi"];return a.jsx(a.Fragment,{children:a.jsxs(v,{open:p,onOpenChange:r,children:[a.jsx(b,{asChild:!0,children:a.jsx(n,{variant:"secondary",onClick:()=>r(!0),size:"sm",children:a.jsx("span",{children:"Perbarui Status"})})}),a.jsxs(N,{className:" z-[120] sm:max-w-[500px] h-auto rounded-lg overflow-auto bg-background",children:[a.jsx(S,{children:a.jsx(y,{className:" py-3 text-xl",children:"Update Status"})}),a.jsx("div",{className:"mt-2",children:a.jsxs("form",{className:"bg-white border relative mt-4 space-y-4 rounded-xl p-4",onSubmit:c,children:[l&&a.jsx(g,{className:"absolute -translate-x-1/2 top-1/2 left-1/2 -translate-y-1/2"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[" ",a.jsx(w,{optionName:"Pilih Tahun Ajaran",htmlFor:"status",labelName:"Tahun Ajaran",optionMap:d.map((t,x)=>a.jsx("option",{value:t.valueOf(),children:t.valueOf()},x)),errors:i.status,selectOptionProps:{name:"status",value:s.status,onChange:t=>{o({...s,status:t.target.value})}}})," ",a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(D,{variant:"optional",htmlFor:"note",children:"Catatan"}),a.jsx(C,{type:"text",id:"note",name:"note",value:s.note,onChange:t=>{o("note",t.target.value),u("note")}}),a.jsx(j,{message:i.note})]})]}),a.jsxs("div",{className:"flex justify-end w-full gap-3",children:[a.jsx(n,{type:"reset",disabled:l,size:"lg",variant:"outline",className:"mt-5",children:"Reset"}),a.jsx(n,{type:"submit",disabled:l,size:"lg",className:"text-white mt-5",children:"Simpan"})]})]})})]})]})})};export{q as default};
