import{j as e,m,y as o,W as u}from"./app-D0fSo0QQ.js";import{B as t}from"./button-CLpE4Gpe.js";import{F as g}from"./format-rupiah.esm-Dv-bfkK6.js";import{D as h,a as p,b as x,c as j,d as w,e as v,f as l}from"./dropdown-menu-BhI5Mqm5.js";import{L as S}from"./label-MMX9MUxd.js";import{I as f}from"./input-BddWVB_g.js";import{A as r}from"./arrow-up-down-qjoEyXtC.js";import{C as b}from"./chevron-down-DRHykl-N.js";import"./index-BM_gVIYB.js";import"./utils-8RyR4BqC.js";import"./Combination-C4QiNC-L.js";import"./tslib.es6-DjSP9Sqm.js";import"./index-SxVPC5uR.js";import"./createLucideIcon-CskD6517.js";const H=[{id:"No",header:"No",cell:s=>s.row.index+1,enableSorting:!1,enableHiding:!1,sortUndefined:!1},{accessorKey:"invoice",header:({column:s})=>e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Invoice",e.jsx(r,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"name",header:({column:s})=>e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Nama Siswa",e.jsx(r,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"amount",header:({column:s})=>e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Jumlah",e.jsx(r,{className:"ml-2 h-4 w-4"})]}),cell(s){return e.jsx(g,{value:s.row.original.amount})}},{accessorKey:"date",header(s){return e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>s.column.toggleSorting(s.column.getIsSorted()==="asc"),children:["Tanggal Dibuat",e.jsx(r,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"status",header:({column:s})=>e.jsxs(t,{size:"md",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Status",e.jsx(r,{className:"ml-2 h-4 w-4"})]}),cell(s){const[a,n]=m.useState(s.row.getValue("status"));return e.jsx("div",{children:e.jsxs(h,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(t,{size:"sm",className:` flex items-center w-28 gap-2 hover:text-white ${s.row.getValue("status")==="pending"?"bg-orange-300 text-orange-900 hover:bg-orange-400 ":"bg-green-300 text-green-900 hover:bg-green-400"}`,variant:"outline",children:[s.row.getValue("status"),e.jsx(b,{className:"mt-1",size:16})]})}),e.jsxs(x,{className:"w-56",children:[e.jsx(j,{children:"Update Status"}),e.jsx(w,{}),e.jsxs(v,{value:a,onValueChange:n,children:[e.jsx(l,{value:"pending",onClick:()=>o.patch(`/admin/transaksi/${s.row.original.id}`,{status:"pending"},{preserveScroll:!0}),children:"Pending"}),e.jsx(l,{value:"selesai",onClick:()=>o.patch(`/admin/transaksi/${s.row.original.id}`,{status:"selesai"},{preserveScroll:!0}),children:"Selesai"})]})]})]})})}},{id:"actions",enableHiding:!1,header:"Actions",cell:({row:s})=>{const a=s.original,{data:n,setData:c,errors:N,processing:C,reset:D,clearErrors:I}=u({nis:a.nis}),d=i=>{i.preventDefault(),o.post(route("admin.transaction.update-nis",a.student_id),{...n,_method:"put"},{preserveScroll:!0})};return a.status==="selesai"?e.jsx("form",{onSubmit:d,children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:`absolute -top-2 bg-white px-2
                             left-3`,htmlFor:"nis",children:"NIS"}),e.jsxs("div",{className:"flex items-center gap-3",children:[" ",e.jsx(f,{value:n.nis,onChange:i=>c("nis",i.target.value),type:"text",name:"nis",id:"nis",required:!0}),e.jsx(t,{type:"submit",variant:"default",children:"Simpan"})]})]})}):e.jsx("span",{className:"text-zinc-500",children:"Belum bisa mengedit"})}}];export{H as transactionColumns};
